resources:
  ports: 5000
  image_id: docker:yasomimi/sdxl-tigris:latest
  any_of:
    - cloud: runpod
      accelerators: A4000:1
    - cloud: aws
      region: us-east-2
      accelerators: T4:1

service:
  readiness_probe:
    path: /
    initial_delay_seconds: 5
  replica_policy:
    min_replicas: 1
    max_replicas: 3
    target_qps_per_replica: 0.5
    upscale_delay_seconds: 5
    downscale_delay_seconds: 90

run: |
  cd /src
  /root/.pyenv/shims/python -m cog.server.http